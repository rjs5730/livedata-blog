{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/Javascript Event Loop","result":{"data":{"markdownRemark":{"id":"6fead17a-035c-5a29-8e60-4e99e1c33225","html":"<h2 id=\"이벤트-루프를-잘-설명한-유튜브-영상\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%A5%BC-%EC%9E%98-%EC%84%A4%EB%AA%85%ED%95%9C-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EC%98%81%EC%83%81\" aria-label=\"이벤트 루프를 잘 설명한 유튜브 영상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 루프를 잘 설명한 유튜브 영상</h2>\n<p><a href=\"https://www.youtube.com/watch?v=8aGhZQkoFbQ&#x26;t=147s\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmUlEQVQoz1WS229MURSH95zb3udMqy1iStqadrRN24ypKupek5KqVmlFS6IiFJNmaFGUuhbxICFC0PBPeJaQeO+Dp4r7Nal49fxZZ2qIh3X2Omvv9e3fWmurgdI0beWriZXEWVnVzEC6k+7mNqqK66kuTlI7J0VDYROLC1Nk9XZ+qot8Vef4rsaZid5gxrkq/kV+qRs8sfpQStvY2sH1XDztcnDTWjLtrShL4RoHR/a0xJVW7HSTknyJt2qM9wL90DrJu3kTvFEnmJH4fasXFZiAqJjrelSXVjDW3c2Gujocx5N4lHC/UFZlbHa7TZJ4WWBn+Wif5/OKB3wsmmBq3S1+6Gs8VLtQvvFFgWZuYQm7mzrJpvdSu7AmpzjcC3wB+iHQotdt5Iu6wHRklNeRM6JMzBpjattdvvlXuad6ZoGe51FaFKMl3kxPsoOepe0YYwRoRKmDZVnYrsMCXUzKK2epVzZruoyULqdRLaLRKaNSL5gFOlJuY2WCdP1yttRsoKN2o/RTY7TPsppmtq5qJ5lIYjkWEV/6Kb3NW8T3sAp0zreNJz30fRmAw+DmTexfn2ZNRQt7VnZgXJfKxXFu37rM5J2blCWWELEtCqT8QC4KdJBbC/yCnOViIk6GYrAdl1RVJRP9fexoauNSJsvgoX5OnzrM04EhnneN8KiogwYdwxIVYWJYmdEm1+NALgn9sEXKSGnhAct2WZ5IMNTVxXA2w/j5Ua6cPMnLYC/TzgFmTIZWE5cEl6j+B/TlFfgC/QsMP+FPNAhk2oaGJQlGho4wOnqc8WPHeDF/H69iGabjI6yRgYTA4A8wD83DQnE5YP55lBQVE6+oIHt0kNMhcPg4z9xeptuu8+nwY1pUjEig/ys5nz/ra34DVflUL1x2+OEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/8ac56/eventloop-youtube.webp 240w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/d3be9/eventloop-youtube.webp 480w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/e46b2/eventloop-youtube.webp 960w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/f992d/eventloop-youtube.webp 1440w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/882b9/eventloop-youtube.webp 1920w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/8ff5a/eventloop-youtube.png 240w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/e85cb/eventloop-youtube.png 480w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/d9199/eventloop-youtube.png 960w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/07a9c/eventloop-youtube.png 1440w,\n/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/29114/eventloop-youtube.png 1920w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/livedata-blog/static/844639c0e1304a6d99ed75671c9fae23/d9199/eventloop-youtube.png\"\n            alt=\"Watch the video\"\n            title=\"Watch the video\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></a></p>\n<p>자바스크립트는 단일 스레드 기반 언어 지만 <strong>동시성(Concurrentcy) 를 지원</strong>한다. 여기서 단일스레드는 자바스크립트엔진이 단일 호출스택을 사용한다라는 관점이다. 브라우저에서는 여러 스레드가 사용되며 이 자바스크립트 엔진과 상호 연동하기 위해 사용하는 장치가 이벤트 루프이다.</p>\n<p>이벤트 루프 기반의 비동기 방식으로 Non-blocking IO 를 지원한다.</p>\n<p><img src=\"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/ea03d1bf-f1b4-4af7-a410-f34b069d403b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210615%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20210615T153851Z&#x26;X-Amz-Expires=86400&#x26;X-Amz-Signature=6eea485d4e83971cab596365e410b23e0a59b53ed83a4e288e0ed005aeb37504&#x26;X-Amz-SignedHeaders=host&#x26;response-content-disposition=filename%20%3D%22Untitled.png%22\" alt=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ea03d1bf-f1b4-4af7-a410-f34b069d403b/Untitled.png\"></p>\n<p>비동기를 호출하기 위해서는 Wep API 영역에 따로 정의되어 있다.</p>\n<p>이벤트 루프와 태스크 큐와 같은 장치도 자바스크립트 엔진 외부에 구현되어 있음</p>\n<p><img src=\"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/673d163a-78f9-4836-aebb-6042f6ecd592/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210615%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20210615T153922Z&#x26;X-Amz-Expires=86400&#x26;X-Amz-Signature=c18beb0dd58a730cf185740efc351531d865c0e2ab8cbfde8ece9fb2638d4e4b&#x26;X-Amz-SignedHeaders=host&#x26;response-content-disposition=filename%20%3D%22Untitled.png%22\" alt=\"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/673d163a-78f9-4836-aebb-6042f6ecd592/Untitled.png\"></p>\n<p>노드 JS 에 LIBUS라는 라이브러리를 사용하여 이벤트 루프를 제공하고 있다.</p>\n<h3 id=\"테스크-큐와-이벤트-루프\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%81%AC-%ED%81%90%EC%99%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84\" aria-label=\"테스크 큐와 이벤트 루프 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스크 큐와 이벤트 루프</h3>\n<p>태스크 큐는 말 그대로 콜백 함수들이 대기하는 큐(FIFO) 형태의 배열, 이벤트 루프는 호출 스택이 비워질 때마다 큐에서 골배함수를 꺼내와서 실행하는 역할을 해준다.</p>\n<p>이벤트 루프는 현재 <strong>실행중인 태스크가 없는지</strong>와 <strong>태스크 큐에 태스크</strong>가 있는지를 반복적으로 확인</p>\n<ul>\n<li>모든 비동기 API들은 작업이 완료되면 <strong>콜백 함수를 태스크 큐에 추가</strong>한다.</li>\n<li>이벤트 루프는 ‘현재 실행중인 태스크가 없을 때’(주로 호출 스택이 비워졌을 때) 태스크 큐의 첫 번째 태스크를 꺼내와 실행한다.</li>\n</ul>\n<h3 id=\"마이크로-태스크\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C-%ED%83%9C%EC%8A%A4%ED%81%AC\" aria-label=\"마이크로 태스크 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마이크로 태스크</h3>\n<p>일반 태스크 보다 더 높은 우선순위를 갖는 태스크</p>\n<p>태스크 큐에 대기중인 태스크가 있더라도 마이크로 태스크가 먼저 실행된다.</p>\n<h3 id=\"event-queue-와-job-queue\" style=\"position:relative;\"><a href=\"#event-queue-%EC%99%80-job-queue\" aria-label=\"event queue 와 job queue permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Event Queue 와 Job Queue</h3>\n<p>Event Queue는 테스크 큐와 동일한 역할을 한다</p>\n<p>Job Queue 는 Microtask queue 와 동일한 역할 가지고 있다.</p>\n<h3 id=\"render-queue란\" style=\"position:relative;\"><a href=\"#render-queue%EB%9E%80\" aria-label=\"render queue란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Render Queue란</h3>\n<ul>\n<li>Render Queue는 브라우저에서 사용자에게 래스터 이미지를 보여주기 위해HTML, CSS, Javascirpt 코드를 변환하는 과정을 의미한다.(rendering path 혹은 critical rendering path 라고도 한다.)</li>\n<li>DOM Tree -> CSS Tree -> CSSOM -> Render Tree -> Layouting> Layer Tree -> Paint -> GPU Syne -> Composition 순으로 이뤄지는데,Composition은 스크린에 그려진 Final Frame이다.</li>\n</ul>\n<h2 id=\"추가-참고\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-%EC%B0%B8%EA%B3%A0\" aria-label=\"추가 참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 참고</h2>\n<p><a href=\"https://im-developer.tistory.com/113\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://im-developer.tistory.com/113</a></p>","fields":{"slug":"/posts/Javascript Event Loop","tagSlugs":["/tag/javascript/","/tag/core/"]},"frontmatter":{"date":"2021-06-10T22:40:32.169Z","description":"자바스크립트 이벤트 루프에 대해 알아보고 크롬의 V8 엔진이 비동기에 대해 어떻게 처리하는지 알 수 있습니다.","tags":["Javascript","core"],"title":"Javascript 이벤트루프(Event Loop)","socialImage":{"publicURL":"/livedata-blog/static/b591dcb3477b3001be04172305e91960/javascript-image.png"}}}},"pageContext":{"slug":"/posts/Javascript Event Loop"}},"staticQueryHashes":["251939775","401334301","825871152"]}